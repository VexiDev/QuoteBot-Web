
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>QuoteBot</title>
</head>
<body style="margin: 0; font-family: Arial, sans-serif; background-color: #121726; color: #fff; padding: 0; box-sizing: border-box; height: 100vh;">
    <div style="min-height: 100vh; display: flex; flex-direction: column;">
      <header style="background: #3A4151; padding: 1% 0 1% 10px; display: flex; justify-content: space-between; align-items: center; border-radius: 3px; margin-bottom: 30px;">
          <div style="display: flex; align-items: center; margin-left: 20px;">
              <img src="{{ url_for('static', filename='images/logo.png') }}" alt="QuoteBot Logo" style="height: 75px;"> <!-- Adjust the size of the logo as needed -->
              <h1 style="color: #71CB70; display: inline; font-size: 2em; font-weight: 700; margin-left: 10px;">Quote</h1>
              <h1 style="color: #F8F991; display: inline; font-size: 2em; font-weight: 700;">Bot</h1>
          </div>
          <div style="display: flex; align-items: center; margin-right: 53px;">
              <a href="/" class="back-button" style="background: #222937; color: #5865F2; padding: 17px 30px; border-radius: 10px; text-decoration: none; font-weight: 700; font-size: 1em; display: inline-flex; align-items: center; gap: 10px; margin-right: 10px;">
                  Back
              </a>
              <div style="position: relative;">
                <a id="profile-area" class="login" style="background: #222937; color: #5865F2; padding: 10px 20px; border-radius: 10px; text-decoration: none; font-weight: 700; font-size: 1em; display: none; align-items: center; gap: 10px; margin-right: 10px; cursor: pointer;">
                  <!-- Profile content will be inserted by JavaScript -->
                </a>   
                <!-- Dropdown menu content -->
                <div id="dropdownMenu" style="display: none; transform: translateX(-52%); margin-top: 5px; position: absolute; background-color: #222937; padding: 20px; border-radius: 20px; width: 200px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); color: white; z-index: 10000;">
                  <div style="display: flex; flex-direction: column; align-items: center; justify-content: center;">
                    <a href="/profile" class="btn" style="text-decoration: none; background-color: #1D4ED8; color: white; padding: 10px 45px; border-radius: 6px; margin-bottom: 10px;">My Profile</a>
                    <hr style="border: 0; height: 2px; background-color: #C0C0C0; margin: 3px 0; width: 90%;">
                    <div class="theme-switcher" style="display: flex; align-items: center; gap: 5px; margin: 10px 0 20px 0;">
                      <img src="{{ url_for('static', filename='images/popups/sun.png') }}" alt="Light Mode" style="width: 24px; height: 24px;">
                      <label class="switch" style="position: relative;cursor: pointer; display: inline-block; width: 40px; height: 20px; background-color: #545E74; border-radius: 20px;">
                        <input type="checkbox" checked style="opacity: 0; width: 0; height: 0;" onchange="toggleSwitch(this)">
                        <span id="sliderBall" style="position: absolute; cursor: pointer; top: 2px; left: 22px; background-color: #2196F3; transition: .4s; border-radius: 50%; width: 16px; height: 16px;"></span>
                      </label>
                      <img src="{{ url_for('static', filename='images/popups/moon.png') }}" alt="Dark Mode" style="width: 24px; height: 24px;">
                    </div>
                    <a href="/settings" class="btn" style="text-decoration: none; background-color: #1D4ED8; color: white; padding: 8px 55px; border-radius: 6px; margin-bottom: 10px;">Settings</a>
                    <a href="/logout" class="btn" style="text-decoration: none; background-color: #3C81F6; color: white; padding: 8px 60px; border-radius: 6px;">Logout</a>
                  </div>
                </div>
              </div>            
              </div>
      </header>   

        <main style="flex-grow: 1; display: flex; flex-direction: column; justify-content: center; align-items: center; padding: 20px;">
          <div style="background: #222937; border-radius: 18px; padding-top: 40px; padding-bottom: 40px; padding-left: 100px; padding-right: 100px; width: 80%; display: flex; flex-direction: column; align-items: center; gap: 20px;">
              <div style="background: #3A4151; border-radius: 18px; padding-right: 50px; padding-left: 50px; padding-top: 20px; padding-bottom: 20px; display: inline-block; text-align: center;">
                <h2 style="font-size: 2em; font-weight: 700; color: #ffffff; margin: 0;">About</h2>
            </div>
            <div style="background: #3A4151; border-radius: 18px; padding: 20px; width: 100%; text-align: center;">
              <h3 style="font-size: 1.5em; font-weight: 700; margin-bottom: 10px;">Credits</h3>
              <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 5px;">
                  <span style="flex: 1; text-align: right; padding-right: 10px;">Lead Developer:</span>
                  <span style="flex: 1; text-align: left; padding-left: 10px;">@v3xi</span>
              </div>
              <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 5px;">
                  <span style="flex: 1; text-align: right; padding-right: 10px;">Early Development:</span>
                  <span style="flex: 1; text-align: left; padding-left: 10px;">@pastaslayer</span>
              </div>
              <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 5px;">
                  <span style="flex: 1; text-align: right; padding-right: 10px;">QA Tester:</span>
                  <span style="flex: 1; text-align: left; padding-left: 10px;">@qloomi, @heyitselliee</span>
              </div>
          </div>
          
          <div style="background: #3A4151; border-radius: 18px; padding: 20px; width: 100%;">
            <h3 style="font-size: 1.5em; font-weight: 700; margin: 0 0 10px 0; text-align: center;">History</h3>
            <p style="font-size: 1em; font-weight: 400; text-align: justify; padding: 0 20px;">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec quis velit at dui venenatis maximus ut vitae ligula. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Donec pretium, elit sed ultricies pretium, ante est fermentum neque, eu maximus nisi urna quis nunc. Aliquam et imperdiet est. Aliquam rutrum orci consectetur purus rhoncus mattis. Praesent a ipsum vitae nisi feugiat eleifend bibendum ut est. In feugiat nibh in nisi maximus, a porttitor purus mollis. Sed lobortis at eros eget interdum. Vestibulum a commodo mauris. Integer rutrum sapien pharetra interdum scelerisque. Proin eget dignissim nulla. In hac habitasse platea dictumst. Quisque sed sollicitudin quam. Aliquam viverra risus vitae tellus vehicula gravida. Donec sit amet condimentum enim.

              Vivamus molestie massa nisl, vel ullamcorper velit cursus quis. Vestibulum ullamcorper diam eu arcu ultricies pretium. Donec lorem ligula, maximus in consequat non, ullamcorper ut leo. Proin a nulla a augue viverra egestas quis a dolor. Praesent tortor est, ultricies sit amet metus pellentesque, mattis egestas nibh. Aenean viverra mauris at neque bibendum bibendum. Ut a finibus nisl. Fusce non porta ligula. Donec euismod elit magna, vel consectetur magna placerat quis.
              
              In turpis purus, ultrices sit amet nibh a, eleifend posuere dolor. Curabitur in scelerisque ligula, sed lacinia ex. Nam posuere justo eu est finibus, non tempus enim fringilla. Aliquam erat volutpat. Quisque sagittis erat non massa imperdiet egestas. In nec augue sed mi volutpat scelerisque. Donec in felis a ante tempor viverra eget at urna. Maecenas nec bibendum sem. Curabitur rhoncus mattis lectus sit amet tempor. Proin tortor nisl, luctus tincidunt posuere eget, efficitur at metus. Aliquam congue, metus eget blandit eleifend, urna orci congue felis, non sollicitudin lorem magna id arcu. Praesent sit amet dapibus risus, in convallis ipsum. Cras magna metus, semper et arcu id, ultrices eleifend diam. Donec.</p>
        </div>
        
          </div>
      </main>

        <footer style="background: #3A4151; color: #ffffff; padding: 10px; text-align: center; border-radius: 3px; margin-top: 30px;">
            Â© 2023 QuoteBot, all rights reserved
        </footer>
    </div>
    <script type="text/javascript">
      window.onload = function() {
        fetch('/check_login')
          .then(response => response.json())
          .then(data => {
            const profileArea = document.getElementById('profile-area');
            const dropdownMenu = document.getElementById('dropdownMenu');
  
            if (data.logged_in) {
              // User is logged in, display profile picture and username
              profileArea.style.display = 'inline-flex'; // Make sure the profile area is visible
              profileArea.innerHTML = `
                <img src="${data.user_info.avatar_url}" alt="User Avatar" style="width: 32px; height: 32px; border-radius: 50%;">
                <span>${data.user_info.username}</span>
              `;
            } else {
              // User is not logged in, hide profile button
              profileArea.style.display = 'none';
            }
          }).catch(error => {
            console.error('Error:', error);
          });
  
        setupDropdownHover();
      };
  
      function setupDropdownHover() {
            const profileArea = document.getElementById('profile-area');
            const dropdownMenu = document.getElementById('dropdownMenu');
            let hideDropdownTimeout;

            // Show the dropdown menu when the profile area is hovered
            profileArea.addEventListener('mouseenter', function() {
                clearTimeout(hideDropdownTimeout);
                dropdownMenu.style.display = 'block';
            });

            // Hide the dropdown menu with a delay
            function hideDropdownWithDelay() {
                hideDropdownTimeout = setTimeout(function() {
                dropdownMenu.style.display = 'none';
                }, 200);
            }

            // Check if the mouse is over the dropdown or profile area
            function isMouseOverElement(event) {
                const isOverDropdown = dropdownMenu.contains(event.relatedTarget);
                const isOverProfile = profileArea.contains(event.relatedTarget);
                return isOverDropdown || isOverProfile;
            }

            profileArea.addEventListener('mouseleave', function(event) {
                if (!isMouseOverElement(event)) {
                hideDropdownWithDelay();
                }
            });

            dropdownMenu.addEventListener('mouseenter', function() {
                clearTimeout(hideDropdownTimeout);
            });

            dropdownMenu.addEventListener('mouseleave', function(event) {
                if (!isMouseOverElement(event)) {
                hideDropdownWithDelay();
                }
            });
            }

    </script>
<script>
  // Ensuring the slider ball is positioned correctly when the page loads
  document.addEventListener('DOMContentLoaded', function() {
    var checkbox = document.querySelector('.switch input[type="checkbox"]');
    toggleSwitch(checkbox);
  });
  
  function toggleSwitch(checkbox) {
    var sliderBall = document.getElementById('sliderBall');
    if (checkbox.checked) {
      sliderBall.style.backgroundColor = '#2196F3'; // Blue color for the ball
      sliderBall.style.left = '22px'; // Move ball to the right, adjusted for smaller switch size
    } else {
      sliderBall.style.backgroundColor = 'yellow'; // Yellow color for the ball
      sliderBall.style.left = '2px'; // Move ball to the left
    }
  }
  </script>
  
  <script>
    // Function to show the dropdown menu
    function showDropdown() {
        var menu = document.getElementById("dropdown-menu");
        menu.style.display = "block";
    }
  
    // Function to hide the dropdown menu
    function hideDropdown() {
        var menu = document.getElementById("dropdown-menu");
        setTimeout(function () {
            if (!menu.matches(":hover")) {
                menu.style.display = "none";
            }
        }, 200); // Adjust the delay as needed
    }
  </script>
</body>
</html>
