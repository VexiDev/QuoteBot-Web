{% extends 'base.html' %}

{% block title %}
FAQ - QuoteBot
{% endblock %}

{% block head %}
.hover-info {
    display: none; /* Hide by default */
    position: absolute;
    top: 1;
    left: 50%;
    transform: translateX(-50%);
    font-style: italic;
    font-size: 1em;
    font-weight: bold;
    align-items: center;
    justify-content: center;
  }
{% endblock %}

{% block content %}
<main style="flex-grow: 1; display: flex; flex-direction: column; justify-content: center; align-items: center;">
    <div style="background: #222937; border-radius: 18px; padding: 40px; width: 90%; margin: 25px 0; display: flex; flex-direction: column; align-items: center;">
        <div style="background: #3A4151; border-radius: 18px; padding-left: 50px; padding-right: 50px; padding-top: 20px; padding-bottom: 20px; text-align: center; margin-bottom: 20px; width: fit-content;">
            <h2 style="font-size: 2em; font-weight: 700; color: #fff; margin: 0;">FAQ</h2>
        </div>
        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 25px; width: 100%;">
            <!-- FAQ Item 1 -->
            <div class="faq-item" style="background: #3A4151; border-radius: 18px; padding: 20px; text-align: center; position: relative;" onmouseover="this.querySelector('.hover-info').style.display = 'flex';" onmouseout="this.querySelector('.hover-info').style.display = 'none';">
                <a href="/faq/add" style="color: #C0C0C0; text-decoration: none; display: block; height: 100%; width: 100%;">
                    <div class="hover-info" style="display: flex; position: absolute; top: 1; left: 50%; transform: translateX(-50%); font-style: italic; font-size: 1em; font-weight: bold; align-items: center; justify-content: center;">
                        <img src="{{ url_for('static', filename='images/faq/info.png') }}" alt="Info Icon" style="width: 15px; height: 15px; margin-right: 10px;">
                        Click to learn more
                    </div>
                    <img src="{{ url_for('static', filename='images/faq/add.png') }}" alt="Add Icon" style="width: 64px; height: 64px; margin-top: 25px;">
                    <h3 style="font-size: 1.5em; font-weight: 700; color: #fff;">Adding Quotes</h3>
                    <p style="font-size: 1em; font-weight: 400; color: #C0C0C0;">
                        You can add a quote to QuoteBot by using the <span style="font-weight: bold; color: #68ADFE;">/add</span> command in the server you wish to add the quote to.
                    </p>
                </a>
            </div>                        
            <!-- FAQ Item 2 -->
            <div class="faq-item" style="background: #3A4151; border-radius: 18px; padding: 20px; text-align: center; position: relative;" onmouseover="this.querySelector('.hover-info').style.display = 'flex';" onmouseout="this.querySelector('.hover-info').style.display = 'none';">
                <a href="/faq/delete" style="color: #C0C0C0; text-decoration: none; display: block; height: 100%; width: 100%;">
                    <div class="hover-info" style="display: none; position: absolute; top: 1; left: 50%; transform: translateX(-50%); font-style: italic; font-size: 1em; font-weight: bold; align-items: center; justify-content: center;">
                        <img src="{{ url_for('static', filename='images/faq/info.png') }}" alt="Info Icon" style="width: 15px; height: 15px; margin-right: 10px;">
                        Click to learn more
                    </div>
                    <img src="{{ url_for('static', filename='images/faq/delete.png') }}" alt="Delete Icon" style="width: 64px; height: 64px; margin-top: 25px;">
                    <h3 style="font-size: 1.5em; font-weight: 700; color: #fff;">Deleting Quotes</h3>
                    <p style="font-size: 1em; font-weight: 400; color: #C0C0C0;">
                        You can delete a quote from QuoteBot by using the <span style="font-weight: bold; color: #68ADFE;">/delete</span> command in the server you wish to remove a quote from.
                    </p>
                </a>
            </div>

            <!-- FAQ Item 3 -->
            <div class="faq-item" style="background: #3A4151; border-radius: 18px; padding: 20px; text-align: center; position: relative;" onmouseover="this.querySelector('.hover-info').style.display = 'flex';" onmouseout="this.querySelector('.hover-info').style.display = 'none';">
                <a href="/faq/profile" style="color: #C0C0C0; text-decoration: none; display: block; height: 100%; width: 100%;">
                    <div class="hover-info" style="display: none; position: absolute; top: 1; left: 50%; transform: translateX(-50%); font-style: italic; font-size: 1em; font-weight: bold; align-items: center; justify-content: center;">
                        <img src="{{ url_for('static', filename='images/faq/info.png') }}" alt="Info Icon" style="width: 15px; height: 15px; margin-right: 10px;">
                        Click to learn more
                    </div>
                    <img src="{{ url_for('static', filename='images/faq/user.png') }}" alt="Profile Icon" style="width: 64px; height: 64px; margin-top: 25px;">
                    <h3 style="font-size: 1.5em; font-weight: 700; color: #fff;">Viewing added Quotes</h3>
                    <p style="font-size: 1em; font-weight: 400; color: #C0C0C0;">
                        You can find added quotes for a user on a server by running the <span style="font-weight: bold; color: #68ADFE;">/profile</span> command.
                    </p>
                </a>
            </div>

            <!-- FAQ Item 4 -->
            <div class="faq-item" style="background: #3A4151; border-radius: 18px; padding: 20px; text-align: center; position: relative;" onmouseover="this.querySelector('.hover-info').style.display = 'flex';" onmouseout="this.querySelector('.hover-info').style.display = 'none';">
                <a href="/faq/block" style="color: #C0C0C0; text-decoration: none; display: block; height: 100%; width: 100%;">
                    <div class="hover-info" style="display: none; position: absolute; top: 1; left: 50%; transform: translateX(-50%); font-style: italic; font-size: 1em; font-weight: bold; align-items: center; justify-content: center;">
                        <img src="{{ url_for('static', filename='images/faq/info.png') }}" alt="Info Icon" style="width: 15px; height: 15px; margin-right: 10px;">
                        Click to learn more
                    </div>
                    <img src="{{ url_for('static', filename='images/faq/block.png') }}" alt="Block Icon" style="width: 64px; height: 64px; margin-top: 25px;">
                    <h3 style="font-size: 1.5em; font-weight: 700; color: #fff;">Blocking a user</h3>
                    <p style="font-size: 1em; font-weight: 400; color: #C0C0C0;">
                        You can prevent a user from adding quotes to your profile on all servers by running the <span style="font-weight: bold; color: #68ADFE;">/block</span> command.
                    </p>
                </a>
            </div>

            <!-- FAQ Item 5 -->
            <div class="faq-item" style="background: #3A4151; border-radius: 18px; padding: 20px; text-align: center; position: relative;" onmouseover="this.querySelector('.hover-info').style.display = 'flex';" onmouseout="this.querySelector('.hover-info').style.display = 'none';">
                <a href="/faq/nsfw" style="color: #C0C0C0; text-decoration: none; display: block; height: 100%; width: 100%;">
                    <div class="hover-info" style="display: none; position: absolute; top: 1; left: 50%; transform: translateX(-50%); font-style: italic; font-size: 1em; font-weight: bold; align-items: center; justify-content: center;">
                        <img src="{{ url_for('static', filename='images/faq/info.png') }}" alt="Info Icon" style="width: 15px; height: 15px; margin-right: 10px;">
                        Click to learn more
                    </div>
                    <img src="{{ url_for('static', filename='images/faq/nsfw.png') }}" alt="NSFW Icon" style="width: 64px; height: 64px; margin-top: 25px;">
                    <h3 style="font-size: 1.5em; font-weight: 700; color: #fff;">My quote is marked NSFW</h3>
                    <p style="font-size: 1em; font-weight: 400; color: #C0C0C0;">
                        If your quote was flagged it means our filters detected vulgar content within the quote and it was placed in the NSFW category on your profile.
                    </p>
                </a>
            </div>

            <!-- FAQ Item 6 -->
            <div class="faq-item" style="background: #3A4151; border-radius: 18px; padding: 20px; text-align: center; position: relative;" onmouseover="this.querySelector('.hover-info').style.display = 'flex';" onmouseout="this.querySelector('.hover-info').style.display = 'none';">
                <a href="/faq/canceled" style="color: #C0C0C0; text-decoration: none; display: block; height: 100%; width: 100%;">
                    <div class="hover-info" style="display: none; position: absolute; top: 1; left: 50%; transform: translateX(-50%); font-style: italic; font-size: 1em; font-weight: bold; align-items: center; justify-content: center;">
                        <img src="{{ url_for('static', filename='images/faq/info.png') }}" alt="Info Icon" style="width: 15px; height: 15px; margin-right: 10px;">
                        Click to learn more
                    </div>
                    <img src="{{ url_for('static', filename='images/faq/canceled.png') }}" alt="Canceled Icon" style="width: 64px; height: 64px; margin-top: 25px;">
                    <h3 style="font-size: 1.5em; font-weight: 700; color: #fff;">My quote got blocked</h3>
                    <p style="font-size: 1em; font-weight: 400; color: #C0C0C0;">
                        QuoteBot does not allow the following:
                    </p>
                    <ul style="list-style: none; padding: 0; margin: 0; color: #C0C0C0; text-align: left; display: inline-block;">
                        <li style="margin-bottom: 5px;">
                            <span style="display: inline-block; width: 20px; text-align: right;">-</span> Personal Information of any kind
                        </li>
                        <li style="margin-bottom: 5px;">
                            <span style="display: inline-block; width: 20px; text-align: right;">-</span> Links of any kind
                        </li>
                    </ul>
                </a>
            </div>

        </div>
    </div>
</main>
{% endblock %}

{% block scripts %}
<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Get all FAQ items
    var faqItems = document.querySelectorAll('.faq-item');
    // Show the hover-info for the first FAQ item by default
    faqItems[0].querySelector('.hover-info').style.display = 'flex';

    // Add hover event listeners to all FAQ items
    faqItems.forEach(function(item, index) {
      item.addEventListener('mouseover', function() {
        // Hide the default hover-info text
        faqItems[0].querySelector('.hover-info').style.display = 'none';
        // Show the hover-info for the current item
        this.querySelector('.hover-info').style.display = 'flex';
      });
      item.addEventListener('mouseout', function() {
        // Hide the hover-info for the current item
        this.querySelector('.hover-info').style.display = 'none';
        // Use setTimeout to add delay before showing hover-info on the first item
        setTimeout(function() {
          // Check if no other item is hovered, then show hover-info for the first item
          if (![...faqItems].some((el) => el.querySelector('.hover-info').style.display === 'flex')) {
            faqItems[0].querySelector('.hover-info').style.display = 'flex';
          }
        }, 200); // 200ms delay
      });
    });
  });
</script>
<script>
    const faqDarkModeColors = {
    mainBackground: "#222937", // Dark blue for the main background
    sectionBackground: "#3A4151", // Darker gray-blue for section backgrounds
    textColor: "#ffffff", // White for primary text
    linkColor: "#C0C0C0", // Light gray for links
    specialTextColor: "#68ADFE", // Blue for special text
    hoverInfoBackground: "#3A4151", // Background color for hover info sections
};
const faqLightModeColors = {
    mainBackground: "#D1D7E0", // Light gray-blue for the main background
    sectionBackground: "#F0F0F0", // Very light gray for section backgrounds
    textColor: "#000000", // Black for primary text
    linkColor: "#333333", // Darker color for links
    specialTextColor: "#0047AB", // Darker blue for special text
    hoverInfoBackground: "#000000", // Lighter gray for hover info sections
};


function applyFaqTheme(themeColors) {
    // Main content area
    const mainContent = document.querySelector('main > div');
    if (mainContent) {
        mainContent.style.background = themeColors.mainBackground;
    }

    // FAQ title header
    const faqTitleSection = document.querySelector('main > div > div:first-child');
    const faqTitle = faqTitleSection.querySelector('h2');
    if (faqTitleSection && faqTitle) {
        faqTitleSection.style.background = themeColors.sectionBackground;
        faqTitle.style.color = themeColors.textColor;
    }

    // FAQ items and hover-info
    const faqItems = document.querySelectorAll('.faq-item');
    faqItems.forEach(item => {
        item.style.background = themeColors.sectionBackground;
        item.querySelector('h3').style.color = themeColors.textColor;
        item.querySelector('p').style.color = themeColors.linkColor;
        item.querySelector('a').style.color = themeColors.linkColor;

        const hoverInfo = item.querySelector('.hover-info');
        const hoverInfoImage = hoverInfo.querySelector('img');
        if (hoverInfo && hoverInfoImage) {
            hoverInfo.style.color = themeColors.textColor;
            // Apply circular background only to the image
            hoverInfoImage.style.backgroundColor = themeColors.hoverInfoBackground;
            hoverInfoImage.style.borderRadius = '50%';
            hoverInfoImage.style.padding = '5px'; // Optional, adjust padding for visual appeal
        }
    });
}

    // Listen for theme changes
    window.addEventListener('themeChanged', function(e) {
        let currentTheme = e.detail.theme === 'light' ? faqLightModeColors : faqDarkModeColors;
        applyFaqTheme(currentTheme);
    });

    // Apply the initial theme based on localStorage
    let initialTheme = localStorage.getItem('theme') === 'light' ? faqLightModeColors : faqDarkModeColors;
    applyFaqTheme(initialTheme);
</script>
{% endblock %}
